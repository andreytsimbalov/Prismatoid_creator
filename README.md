# Prismatoid_creator

Запускаемый файл test_first_wind.py

Также можно запустить work_with_ui.py для работы с уже сгенерированными моделями

Необходимый набор подключаемых модулей:
numpy
math
OpenGL
PyQt5

MainWindow - программа выводит мозаику из 3/4/6-угольников, в узлы которой можно вставить объект.

"Новая модель" - очищает поле мозаики и создаёт новую модель из n-угольников (n можно выбрать перед нажатием кнопки в поле "Выбрать модель")

"Выбрать слой" - переключается между созданными слоями

"Добавить слой" - добавляет новый слой мозаики

"Показать модель" - генерирует 3D объекты и открывает их в новом окне Histology (файл work_with_ui.py). Перед нажатием обязательно убедиться, что создано минимум 2 слоя, и на них расположен объект

ПРАВИЛО СОЗДАНИЯ МОДЕЛИ:

Сперва необходимо расположить объект на сцене нажатием ЛКМ (красная точка подсказывает возможное расположение в узлах мозаики)

Далее на появившиеся красные линии можно нажать, добавив точку к фигуре, на каждой линии может быть не более одной точки

Создав желаемую фигуру, можно сгенерировать новый слой, на котором также можно создавать фигуры.
Если фигуры на слоях были невыпуклые, то при релизе они автоматически будут дополнены до выпуклых.
Если фигура в m слое пересекает не все смежные с объектом клетки, то пользователю необходимо создавать на соседних m-1 и m+1 слоях фигуры, которые занимают те же клетки, или смежные с ними(т.е. нельзя создавать фигуры на смежных с объектом клетках, которые не касаются друг друга при переходе слоёв)

Когда объект будет готов, нужно нажать "Показать модель" (если не сработало, то нужно изменить фигуры на слоях). 
Новая модель сгенерируется в файле text.txt, и будет содержать только сам объект и смежные с ним клетки

Histology - программа выводит 3D модель, составленную по мозаикам срезов этого объекта. Модель состоит из отдельных объектов

Вращение фигуры осуществляется мышью или при помощи боковых слайдеров по осям XYZ

В поле текстового ввода (по умолчанию выведены все номера объектов от 0 до n - число объектов)
можно изменять количество выводимых объектов, после чего нажать на "Вывести объекты"

"Изменить обтекаемость клеток" - меняет твёрдость объекта и клеток. Либо клетки становятся твёрдыми, а объект подстраивается под них, либо объект твёрдый, а клетки мягкие (возможна потеря полигонов)

Чтобы просмотреть мозаики срезов модели необходимо нажать "Показать пазлы", 
после чего появится k окон с изображениями каждого среза (k - число срезов)

В коде уже есть несколько доступных моделей, которые находятся в папке models. 
Для того, чтобы выбрать другую модель необходимо открыть файл gl_in_widget_logic.py
и в классе GLWidget изменить в __init__ функции параметр self.file, после чего запустить программу

Также можно создавать свои модели по образцу "models/Правило создания модели.txt"
